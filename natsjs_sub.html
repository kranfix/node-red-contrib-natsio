<script type="text/javascript">
  RED.nodes.registerType('natsjs-sub',{
    category: 'NATS',
    color: '#3FADB5',
    defaults: {
      server: {value:"", type:"natsio-server", required:true},
      stream: {value:"FLOWS"},
      subjects: {value: "*"},
      maxWanted: {value:""}, // unsubscribe after maxWanted
    },
    inputs:0,
    outputs:1,
    icon: "fa-space-shuttle.svg",
    label: "natsjs-sub"
  });
</script>

<script type="text/x-red" data-template-name="natsjs-sub">
  <div class="form-row">
    <label for="node-input-server"><i class="icon-tag"></i> server</label>
    <input type="text" id="node-input-server" placeholder="server">
  </div>
  <div class="form-row">
    <label for="node-input-stream"><i class="icon-tag"></i> stream</label>
    <input type="text" id="node-input-stream" placeholder="stream">
  </div>
  <div class="form-row">
    <label for="node-input-subjects"><i class="icon-tag"></i> subjects</label>
    <textarea id="node-input-subjects" placeholder="subjects" rows="5"></textarea>
  </div>
  <div class="form-row">
    <label for="node-input-maxWanted">
      <i class="icon-tag"></i> Unsubscribe after
    </label>
    <input type="text" id="node-input-maxWanted" placeholder="infinite by default">
  </div>

</script>

<script type="text/x-red" data-help-name="natsjs-sub">
  <p>jetstream-sub node</p>
</script>
